### Шаг 1. Обзор данных


```python
import pandas as pd
import warnings
warnings.simplefilter("ignore")
```


```python
# посмотреть, где находится каталог с файлами на COLAB
from google.colab import drive
drive.mount('/content/drive')
```

    Drive already mounted at /content/drive; to attempt to forcibly remount, call drive.mount("/content/drive", force_remount=True).
    


```python
# получить доступ к каталогу и уточнить названия папок
import os
os.listdir('/content/drive/My Drive/Colab Notebooks/Яндекс/Проект 2 Заемщик')
```




    ['data.csv', 'Начало', 'Исследование надежности заемщиков.ipynb', 'GitHub']




```python
# присвоить переменной путь к файлу в каталоге
path = "/content/drive/My Drive/Colab Notebooks/Яндекс/Проект 2 Заемщик/data.csv"
```


```python
data = pd.read_csv(path)
```


```python
# просмотреть данные (первые 5)
data.head()
```





  <div id="df-0862d700-2fb6-4637-bcc1-1a856a7357da">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>children</th>
      <th>days_employed</th>
      <th>dob_years</th>
      <th>education</th>
      <th>education_id</th>
      <th>family_status</th>
      <th>family_status_id</th>
      <th>gender</th>
      <th>income_type</th>
      <th>debt</th>
      <th>total_income</th>
      <th>purpose</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>-8437.673028</td>
      <td>42</td>
      <td>высшее</td>
      <td>0</td>
      <td>женат / замужем</td>
      <td>0</td>
      <td>F</td>
      <td>сотрудник</td>
      <td>0</td>
      <td>253875.639453</td>
      <td>покупка жилья</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>-4024.803754</td>
      <td>36</td>
      <td>среднее</td>
      <td>1</td>
      <td>женат / замужем</td>
      <td>0</td>
      <td>F</td>
      <td>сотрудник</td>
      <td>0</td>
      <td>112080.014102</td>
      <td>приобретение автомобиля</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>-5623.422610</td>
      <td>33</td>
      <td>Среднее</td>
      <td>1</td>
      <td>женат / замужем</td>
      <td>0</td>
      <td>M</td>
      <td>сотрудник</td>
      <td>0</td>
      <td>145885.952297</td>
      <td>покупка жилья</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>-4124.747207</td>
      <td>32</td>
      <td>среднее</td>
      <td>1</td>
      <td>женат / замужем</td>
      <td>0</td>
      <td>M</td>
      <td>сотрудник</td>
      <td>0</td>
      <td>267628.550329</td>
      <td>дополнительное образование</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>340266.072047</td>
      <td>53</td>
      <td>среднее</td>
      <td>1</td>
      <td>гражданский брак</td>
      <td>1</td>
      <td>F</td>
      <td>пенсионер</td>
      <td>0</td>
      <td>158616.077870</td>
      <td>сыграть свадьбу</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-0862d700-2fb6-4637-bcc1-1a856a7357da')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-0862d700-2fb6-4637-bcc1-1a856a7357da button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-0862d700-2fb6-4637-bcc1-1a856a7357da');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
# посчитать пропущенные данные
data.isnull().sum()
```




    children               0
    days_employed       2174
    dob_years              0
    education              0
    education_id           0
    family_status          0
    family_status_id       0
    gender                 0
    income_type            0
    debt                   0
    total_income        2174
    purpose                0
    dtype: int64




```python
# вывод общей информации и просмотр типов данных
data.info()
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 21525 entries, 0 to 21524
    Data columns (total 12 columns):
     #   Column            Non-Null Count  Dtype  
    ---  ------            --------------  -----  
     0   children          21525 non-null  int64  
     1   days_employed     19351 non-null  float64
     2   dob_years         21525 non-null  int64  
     3   education         21525 non-null  object 
     4   education_id      21525 non-null  int64  
     5   family_status     21525 non-null  object 
     6   family_status_id  21525 non-null  int64  
     7   gender            21525 non-null  object 
     8   income_type       21525 non-null  object 
     9   debt              21525 non-null  int64  
     10  total_income      19351 non-null  float64
     11  purpose           21525 non-null  object 
    dtypes: float64(2), int64(5), object(5)
    memory usage: 2.0+ MB
    

2174/21525*100%=10% - это процент пропусков в столбцах "days_employed" и "total_income" Так как доля некорректных данных более 1% их необходимо обработать и привести в соответствие остальным.


```python
# вывод описательной статистики
data.describe()
```





  <div id="df-4c7386a2-9102-4132-b7e7-bf2014a3912d">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>children</th>
      <th>days_employed</th>
      <th>dob_years</th>
      <th>education_id</th>
      <th>family_status_id</th>
      <th>debt</th>
      <th>total_income</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>21525.000000</td>
      <td>19351.000000</td>
      <td>21525.000000</td>
      <td>21525.000000</td>
      <td>21525.000000</td>
      <td>21525.000000</td>
      <td>1.935100e+04</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>0.538908</td>
      <td>63046.497661</td>
      <td>43.293380</td>
      <td>0.817236</td>
      <td>0.972544</td>
      <td>0.080883</td>
      <td>1.674223e+05</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1.381587</td>
      <td>140827.311974</td>
      <td>12.574584</td>
      <td>0.548138</td>
      <td>1.420324</td>
      <td>0.272661</td>
      <td>1.029716e+05</td>
    </tr>
    <tr>
      <th>min</th>
      <td>-1.000000</td>
      <td>-18388.949901</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>2.066726e+04</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.000000</td>
      <td>-2747.423625</td>
      <td>33.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1.030532e+05</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>0.000000</td>
      <td>-1203.369529</td>
      <td>42.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1.450179e+05</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.000000</td>
      <td>-291.095954</td>
      <td>53.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>2.034351e+05</td>
    </tr>
    <tr>
      <th>max</th>
      <td>20.000000</td>
      <td>401755.400475</td>
      <td>75.000000</td>
      <td>4.000000</td>
      <td>4.000000</td>
      <td>1.000000</td>
      <td>2.265604e+06</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-4c7386a2-9102-4132-b7e7-bf2014a3912d')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-4c7386a2-9102-4132-b7e7-bf2014a3912d button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-4c7386a2-9102-4132-b7e7-bf2014a3912d');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




### Шаг 2.1 Заполнение пропусков


```python
# подсчитываем медианное значение
median_days_employed = data['days_employed'].median()
print(median_days_employed)
```

    -1203.369528770489
    

Медианное значение отрицательное, это говорит о наличии большого количества отрицательных значений в стаже работы.


```python
# цикл замещающий все отрицательные значения на положительные
for i in range(len(data['days_employed'])):
    if data['days_employed'][i] < 0:
        data['days_employed'][i] = data['days_employed'][i] * (-1)
```


```python
# подсчитываем медианное значение
median_days_employed = data['days_employed'].median()
print(median_days_employed)
```

    2194.220566878695
    


```python
# заполнение медианными значениями столбца "days_employed"
data['days_employed'] = data['days_employed'].fillna(median_days_employed)
```


```python
# проверка на наличие отрицательных значений в столбце
count_total_income = 0
for i in range(len(data['total_income'])):
    if data['total_income'][i] < 0:
        count_total_income += 1
print(count_total_income)
```

    0
    


```python
# подсчитываем медианное значение
median_total_income = data['total_income'].median()
print(median_total_income)
```

    145017.93753253992
    


```python
# заполнение медианными значениями
data['total_income'] = data['total_income'].fillna(median_total_income)
```


```python
# контрольная проверка на пропуски
data.isnull().sum()
```




    children            0
    days_employed       0
    dob_years           0
    education           0
    education_id        0
    family_status       0
    family_status_id    0
    gender              0
    income_type         0
    debt                0
    total_income        0
    purpose             0
    dtype: int64



### Шаг 2.2  Проверка данных на аномалии


```python
# поиск дополнительных, некорректных данных
data['children'].value_counts(ascending=False)
```




     0     14149
     1      4818
     2      2055
     3       330
     20       76
    -1        47
     4        41
     5         9
    Name: children, dtype: int64




```python
# подсчет  доли (share_20) некорректных данных от общего объема
share_20 = data[data['children'] == 20]['children'].count() / len(data) * 100
print(share_20)
```

    0.3530778164924506
    


```python
# подсчет  доли (share_minus_one) некорректных данных от общего объема
share_minus_one = data[data['children'] == -1]['children'].count() / len(data) * 100
print(share_minus_one)
```

    0.2183507549361208
    


```python
# подсчет общей доли (share_20 + share_minus_one) некорректных данных от общего объема
total_share_emissions = share_minus_one + share_20
print(total_share_emissions)
```

    0.5714285714285714
    

Доля некорректных данных менее 1%, поэтому их удаление допустимо.


```python
# удаление строк со значением "20" и "-1" детей
data = data[(data['children'] != 20) & (data['children'] != -1)]
```

### Шаг 2.3. Изменение типов данных


```python
# замена вещественных типов данных на целочисленные
data['total_income'] = data['total_income'].astype('int')
```


```python
#  проверка результатов замены
data.info()
```

    <class 'pandas.core.frame.DataFrame'>
    Int64Index: 21402 entries, 0 to 21524
    Data columns (total 12 columns):
     #   Column            Non-Null Count  Dtype  
    ---  ------            --------------  -----  
     0   children          21402 non-null  int64  
     1   days_employed     21402 non-null  float64
     2   dob_years         21402 non-null  int64  
     3   education         21402 non-null  object 
     4   education_id      21402 non-null  int64  
     5   family_status     21402 non-null  object 
     6   family_status_id  21402 non-null  int64  
     7   gender            21402 non-null  object 
     8   income_type       21402 non-null  object 
     9   debt              21402 non-null  int64  
     10  total_income      21402 non-null  int64  
     11  purpose           21402 non-null  object 
    dtypes: float64(1), int64(6), object(5)
    memory usage: 2.1+ MB
    

### Шаг 2.4. Удаление дубликатов


```python
# подсчет доли дубликатов
print(data.duplicated().sum() / len(data) * 100)
```

    0.2523128679562658
    

Доля дубликатов в данных менее 1%, поэтому их удаление допустимо.


```python
# удаление дубликатов
data = data.drop_duplicates()
```


```python
# перевод строковых значений в нижний регистр с целью поиска неявных дубликатов
data['education'] = data['education'].str.lower()
data['family_status'] = data['family_status'].str.lower()
data['income_type'] = data['income_type'].str.lower()
data['purpose'] = data['purpose'].str.lower()
```


```python
# подсчет доли дубликатов
print(data.duplicated().sum() / len(data) * 100)
```

    0.07963275248266817
    

Доля дубликатов в данных менее 1%, поэтому их удаление допустимо.


```python
# удаление дубликатов
data = data.drop_duplicates()
```


```python
# вывод количества дубликатов
print ('Дубликатов в таблице:', data.duplicated().sum())
```

    Дубликатов в таблице: 0
    

### Шаг 2.5. Формирование дополнительных датафреймов словарей, декомпозиция исходного датафрейма


```python
# сохранение исходного датафрейма с приставкой 'old'
old_data = data
```


```python
# создание датафрейма на основе столбцов "education", "education_id"
education_data = data[['education', 'education_id']]
```


```python
# создание датафрейма на основе столбцов "family_status", "family_status_id"
family_status_data = data[['family_status', 'family_status_id']]
```


```python
# удаление столбцов "education", "family_status"
data = data.drop(['education', 'family_status'], axis=1)
```


```python
# обновление индексов с одновременным удалением старых
data.reset_index(drop=True)
```





  <div id="df-98e7925f-2fc3-495a-a281-0996b93831b6">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>children</th>
      <th>days_employed</th>
      <th>dob_years</th>
      <th>education_id</th>
      <th>family_status_id</th>
      <th>gender</th>
      <th>income_type</th>
      <th>debt</th>
      <th>total_income</th>
      <th>purpose</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>8437.673028</td>
      <td>42</td>
      <td>0</td>
      <td>0</td>
      <td>F</td>
      <td>сотрудник</td>
      <td>0</td>
      <td>253875</td>
      <td>покупка жилья</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>4024.803754</td>
      <td>36</td>
      <td>1</td>
      <td>0</td>
      <td>F</td>
      <td>сотрудник</td>
      <td>0</td>
      <td>112080</td>
      <td>приобретение автомобиля</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>5623.422610</td>
      <td>33</td>
      <td>1</td>
      <td>0</td>
      <td>M</td>
      <td>сотрудник</td>
      <td>0</td>
      <td>145885</td>
      <td>покупка жилья</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>4124.747207</td>
      <td>32</td>
      <td>1</td>
      <td>0</td>
      <td>M</td>
      <td>сотрудник</td>
      <td>0</td>
      <td>267628</td>
      <td>дополнительное образование</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>340266.072047</td>
      <td>53</td>
      <td>1</td>
      <td>1</td>
      <td>F</td>
      <td>пенсионер</td>
      <td>0</td>
      <td>158616</td>
      <td>сыграть свадьбу</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>21326</th>
      <td>1</td>
      <td>4529.316663</td>
      <td>43</td>
      <td>1</td>
      <td>1</td>
      <td>F</td>
      <td>компаньон</td>
      <td>0</td>
      <td>224791</td>
      <td>операции с жильем</td>
    </tr>
    <tr>
      <th>21327</th>
      <td>0</td>
      <td>343937.404131</td>
      <td>67</td>
      <td>1</td>
      <td>0</td>
      <td>F</td>
      <td>пенсионер</td>
      <td>0</td>
      <td>155999</td>
      <td>сделка с автомобилем</td>
    </tr>
    <tr>
      <th>21328</th>
      <td>1</td>
      <td>2113.346888</td>
      <td>38</td>
      <td>1</td>
      <td>1</td>
      <td>M</td>
      <td>сотрудник</td>
      <td>1</td>
      <td>89672</td>
      <td>недвижимость</td>
    </tr>
    <tr>
      <th>21329</th>
      <td>3</td>
      <td>3112.481705</td>
      <td>38</td>
      <td>1</td>
      <td>0</td>
      <td>M</td>
      <td>сотрудник</td>
      <td>1</td>
      <td>244093</td>
      <td>на покупку своего автомобиля</td>
    </tr>
    <tr>
      <th>21330</th>
      <td>2</td>
      <td>1984.507589</td>
      <td>40</td>
      <td>1</td>
      <td>0</td>
      <td>F</td>
      <td>сотрудник</td>
      <td>0</td>
      <td>82047</td>
      <td>на покупку автомобиля</td>
    </tr>
  </tbody>
</table>
<p>21331 rows × 10 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-98e7925f-2fc3-495a-a281-0996b93831b6')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-98e7925f-2fc3-495a-a281-0996b93831b6 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-98e7925f-2fc3-495a-a281-0996b93831b6');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




### Шаг 2.6. Категоризация дохода


```python
# функция категоризации по доходу
def total_income_group(total_income):
    if total_income <= 30000:
        return 'E'
    if total_income <= 50000:
        return 'D'
    if total_income <= 200000:
        return 'C'
    if total_income <= 1000000:
        return 'B'
    return 'A'
```


```python
# создание столбца с категорией по доходу
data['total_income_category'] = data['total_income'].apply(total_income_group)
```


```python
data.head()
```





  <div id="df-a280c251-1f4a-4fb9-b739-5cd080abb7ef">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>children</th>
      <th>days_employed</th>
      <th>dob_years</th>
      <th>education_id</th>
      <th>family_status_id</th>
      <th>gender</th>
      <th>income_type</th>
      <th>debt</th>
      <th>total_income</th>
      <th>purpose</th>
      <th>total_income_category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>8437.673028</td>
      <td>42</td>
      <td>0</td>
      <td>0</td>
      <td>F</td>
      <td>сотрудник</td>
      <td>0</td>
      <td>253875</td>
      <td>покупка жилья</td>
      <td>B</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>4024.803754</td>
      <td>36</td>
      <td>1</td>
      <td>0</td>
      <td>F</td>
      <td>сотрудник</td>
      <td>0</td>
      <td>112080</td>
      <td>приобретение автомобиля</td>
      <td>C</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>5623.422610</td>
      <td>33</td>
      <td>1</td>
      <td>0</td>
      <td>M</td>
      <td>сотрудник</td>
      <td>0</td>
      <td>145885</td>
      <td>покупка жилья</td>
      <td>C</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>4124.747207</td>
      <td>32</td>
      <td>1</td>
      <td>0</td>
      <td>M</td>
      <td>сотрудник</td>
      <td>0</td>
      <td>267628</td>
      <td>дополнительное образование</td>
      <td>B</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>340266.072047</td>
      <td>53</td>
      <td>1</td>
      <td>1</td>
      <td>F</td>
      <td>пенсионер</td>
      <td>0</td>
      <td>158616</td>
      <td>сыграть свадьбу</td>
      <td>C</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-a280c251-1f4a-4fb9-b739-5cd080abb7ef')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-a280c251-1f4a-4fb9-b739-5cd080abb7ef button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-a280c251-1f4a-4fb9-b739-5cd080abb7ef');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




### Шаг 2.7. Категоризация целей кредита


```python
# вывод уникальных значений по столбцу "purpose"
data['purpose'].value_counts()
```




    свадьба                                   790
    на проведение свадьбы                     763
    сыграть свадьбу                           760
    операции с недвижимостью                  672
    покупка коммерческой недвижимости         658
    покупка жилья для сдачи                   649
    операции с жильем                         647
    операции с коммерческой недвижимостью     645
    жилье                                     641
    покупка жилья                             640
    покупка жилья для семьи                   637
    недвижимость                              631
    строительство собственной недвижимости    628
    операции со своей недвижимостью           623
    строительство жилой недвижимости          620
    строительство недвижимости                619
    покупка своего жилья                      619
    покупка недвижимости                      616
    ремонт жилью                              604
    покупка жилой недвижимости                602
    на покупку своего автомобиля              504
    заняться высшим образованием              496
    автомобиль                                491
    сделка с подержанным автомобилем          481
    автомобили                                476
    свой автомобиль                           473
    на покупку подержанного автомобиля        471
    на покупку автомобиля                     469
    приобретение автомобиля                   459
    сделка с автомобилем                      455
    дополнительное образование                455
    высшее образование                        446
    получение дополнительного образования     444
    образование                               442
    получение образования                     440
    профильное образование                    432
    получение высшего образования             425
    заняться образованием                     408
    Name: purpose, dtype: int64




```python
# функция категоризации по целевому предназначению кредита
def purpose_group(purpose):
    if 'автомоб' in purpose:
        return 'операции с автомобилем'
    if ('недвижим' in purpose) or ('жил' in purpose):
        return 'операции с недвижимостью'
    if 'свад' in purpose:
        return 'проведение свадьбы'
    return 'получение образования'
```


```python
# создание столбца с категорией целевого предназначения кредита
data['purpose_category'] = data['purpose'].apply(purpose_group)
```


```python
# вывод 5 строк датафрейма (проверка наличия столбца с категорией целевого предназначения кредита)
data.head()
```





  <div id="df-2dd7fef8-aa0e-449e-ba09-72c6a39c0d8e">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>children</th>
      <th>days_employed</th>
      <th>dob_years</th>
      <th>education_id</th>
      <th>family_status_id</th>
      <th>gender</th>
      <th>income_type</th>
      <th>debt</th>
      <th>total_income</th>
      <th>purpose</th>
      <th>total_income_category</th>
      <th>purpose_category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>8437.673028</td>
      <td>42</td>
      <td>0</td>
      <td>0</td>
      <td>F</td>
      <td>сотрудник</td>
      <td>0</td>
      <td>253875</td>
      <td>покупка жилья</td>
      <td>B</td>
      <td>операции с недвижимостью</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>4024.803754</td>
      <td>36</td>
      <td>1</td>
      <td>0</td>
      <td>F</td>
      <td>сотрудник</td>
      <td>0</td>
      <td>112080</td>
      <td>приобретение автомобиля</td>
      <td>C</td>
      <td>операции с автомобилем</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>5623.422610</td>
      <td>33</td>
      <td>1</td>
      <td>0</td>
      <td>M</td>
      <td>сотрудник</td>
      <td>0</td>
      <td>145885</td>
      <td>покупка жилья</td>
      <td>C</td>
      <td>операции с недвижимостью</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>4124.747207</td>
      <td>32</td>
      <td>1</td>
      <td>0</td>
      <td>M</td>
      <td>сотрудник</td>
      <td>0</td>
      <td>267628</td>
      <td>дополнительное образование</td>
      <td>B</td>
      <td>получение образования</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>340266.072047</td>
      <td>53</td>
      <td>1</td>
      <td>1</td>
      <td>F</td>
      <td>пенсионер</td>
      <td>0</td>
      <td>158616</td>
      <td>сыграть свадьбу</td>
      <td>C</td>
      <td>проведение свадьбы</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-2dd7fef8-aa0e-449e-ba09-72c6a39c0d8e')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-2dd7fef8-aa0e-449e-ba09-72c6a39c0d8e button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-2dd7fef8-aa0e-449e-ba09-72c6a39c0d8e');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




### Исследовательский анализ

##### I. Исследование о наличии зависимости между количеством детей и возвратом кредита в срок


```python
# выделение 2-х столбцов из общего датафрейма для проведения исследования о наличии зависимости между количеством детей и возвратом кредита в срок
children_debt = data[['children', 'debt']]
```


```python
# создание пустого датафрейма для внесения расчетных данных
addiction_children_debt = pd.DataFrame()
```


```python
# создание столбца с значениями количества заемщиков по соответствующей группе (0, 1, 2, 3, 4, 5 - детей соответственно)
addiction_children_debt['children_count'] = children_debt.groupby('children')['debt'].count()
```


```python
# создание столбца с количеством просрочек в каждой группе заемщиков
addiction_children_debt['count_debt'] = children_debt.groupby('children')['debt'].sum()
```


```python
# создание столбца с отношением количества просрочек к количеству людей по соответствующей группе
addiction_children_debt['share_debt'] = addiction_children_debt['count_debt'] / addiction_children_debt['children_count']
```


```python
# создание столбца с количеством детей в соответствующей группе
addiction_children_debt['children'] = addiction_children_debt.index
```


```python
# вывод результирующей таблицы проведенных расчетов
addiction_children_debt
```





  <div id="df-b9c06c51-6c59-49fe-a094-adab4496ca13">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>children_count</th>
      <th>count_debt</th>
      <th>share_debt</th>
      <th>children</th>
    </tr>
    <tr>
      <th>children</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>14091</td>
      <td>1063</td>
      <td>0.075438</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4808</td>
      <td>444</td>
      <td>0.092346</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2052</td>
      <td>194</td>
      <td>0.094542</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>330</td>
      <td>27</td>
      <td>0.081818</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>41</td>
      <td>4</td>
      <td>0.097561</td>
      <td>4</td>
    </tr>
    <tr>
      <th>5</th>
      <td>9</td>
      <td>0</td>
      <td>0.000000</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-b9c06c51-6c59-49fe-a094-adab4496ca13')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-b9c06c51-6c59-49fe-a094-adab4496ca13 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-b9c06c51-6c59-49fe-a094-adab4496ca13');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
# расчет коэффициента корреляции между количеством детей и наличием просрочек
cor_addiction_children_debt = addiction_children_debt[['children', 'share_debt']]
cor_addiction_children_debt.corr()
```





  <div id="df-b554a8f9-d127-4850-8075-0d1041641641">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>children</th>
      <th>share_debt</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>children</th>
      <td>1.000000</td>
      <td>-0.540416</td>
    </tr>
    <tr>
      <th>share_debt</th>
      <td>-0.540416</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-b554a8f9-d127-4850-8075-0d1041641641')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-b554a8f9-d127-4850-8075-0d1041641641 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-b554a8f9-d127-4850-8075-0d1041641641');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




##### Вывод:

Взаимосвязь между количеством детей и возвратом кредита в срок существует. Кроме того, необходимо отметить, что в целом бездетные допускают меньшую долю просрочек.

##### II. Исследование о наличии зависимости между семейным положением и возвратом кредита в срок


```python
# выделение 2-х столбцов из общего датафрейма для проведения исследования о наличии зависимости между семейным положением и возвратом кредита в срок
family_status_debt = old_data[['family_status', 'debt']]
```


```python
# создание пустого датафрейма для внесения расчетных данных
addiction_family_status_debt = pd.DataFrame()
```


```python
# создание столбца с значениями количества заемщиков по соответствующей группе (женат, холост и т.д.)
addiction_family_status_debt['family_status_count'] = family_status_debt.groupby('family_status')['debt'].count()
```


```python
# создание столбца с количеством просрочек в каждой группе заемщиков
addiction_family_status_debt['count_debt'] = family_status_debt.groupby('family_status')['debt'].sum()
```


```python
# создание столбца с отношением количества просрочек к количеству людей по соответствующей группе
addiction_family_status_debt['share_debt'] = addiction_family_status_debt['count_debt'] / addiction_family_status_debt['family_status_count']
```


```python
# вывод результирующей таблицы проведенных расчетов
addiction_family_status_debt
```





  <div id="df-f86ccab2-d860-4fd3-a966-769dcdf00d88">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>family_status_count</th>
      <th>count_debt</th>
      <th>share_debt</th>
    </tr>
    <tr>
      <th>family_status</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>в разводе</th>
      <td>1189</td>
      <td>84</td>
      <td>0.070648</td>
    </tr>
    <tr>
      <th>вдовец / вдова</th>
      <td>951</td>
      <td>63</td>
      <td>0.066246</td>
    </tr>
    <tr>
      <th>гражданский брак</th>
      <td>4134</td>
      <td>385</td>
      <td>0.093130</td>
    </tr>
    <tr>
      <th>женат / замужем</th>
      <td>12261</td>
      <td>927</td>
      <td>0.075606</td>
    </tr>
    <tr>
      <th>не женат / не замужем</th>
      <td>2796</td>
      <td>273</td>
      <td>0.097639</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-f86ccab2-d860-4fd3-a966-769dcdf00d88')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-f86ccab2-d860-4fd3-a966-769dcdf00d88 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-f86ccab2-d860-4fd3-a966-769dcdf00d88');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




##### Вывод:

Граждане женатые / замужем и находящиеся в разводе - более дисциплинированны в плане возврата кредита, а вот не женатые / не замужем и находящиеся в гражданском браке - менее. Кроме того, стоит подчеркнуть, что самыми дисциплинированными являются овдовевшие.

##### III. Исследование о наличии зависимости между уровнем дохода и возвратом кредита в срок


```python
# выделение 2-х столбцов из общего датафрейма для проведения исследования о наличии зависимости между уровнем дохода и возвратом кредита в срок
total_income_category_debt = data[['total_income_category', 'debt']]
```


```python
# создание пустого датафрейма для внесения расчетных данных
addiction_total_income_debt = pd.DataFrame()
```


```python
# создание столбца с значениями количества заемщиков по соответствующей группе (A, B, C, D, E соответственно)
addiction_total_income_debt['total_income_category_count'] = total_income_category_debt.groupby('total_income_category')['debt'].count()
```


```python
# создание столбца с количеством просрочек в каждой группе заемщиков
addiction_total_income_debt['count_debt'] = total_income_category_debt.groupby('total_income_category')['debt'].sum()
```


```python
# создание столбца с отношением количества просрочек к количеству людей по соответствующей группе
addiction_total_income_debt['share_debt'] = addiction_total_income_debt['count_debt'] / addiction_total_income_debt['total_income_category_count']
```


```python
# создание столбца соответствующего среднему значению заработка в группе (в группе "А" за среднее значение принято крайнее левое - 1000000, т.к. крайнее правое не известно)
addiction_total_income_debt['total_income'] = [1000000, 600000, 125000, 40000, 15000]
```


```python
# вывод результирующей таблицы проведенных расчетов
addiction_total_income_debt

```





  <div id="df-14a87e39-02c7-466a-8199-d47b8f3c9c32">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>total_income_category_count</th>
      <th>count_debt</th>
      <th>share_debt</th>
      <th>total_income</th>
    </tr>
    <tr>
      <th>total_income_category</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>A</th>
      <td>25</td>
      <td>2</td>
      <td>0.080000</td>
      <td>1000000</td>
    </tr>
    <tr>
      <th>B</th>
      <td>5013</td>
      <td>354</td>
      <td>0.070616</td>
      <td>600000</td>
    </tr>
    <tr>
      <th>C</th>
      <td>15922</td>
      <td>1353</td>
      <td>0.084977</td>
      <td>125000</td>
    </tr>
    <tr>
      <th>D</th>
      <td>349</td>
      <td>21</td>
      <td>0.060172</td>
      <td>40000</td>
    </tr>
    <tr>
      <th>E</th>
      <td>22</td>
      <td>2</td>
      <td>0.090909</td>
      <td>15000</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-14a87e39-02c7-466a-8199-d47b8f3c9c32')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-14a87e39-02c7-466a-8199-d47b8f3c9c32 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-14a87e39-02c7-466a-8199-d47b8f3c9c32');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




##### Вывод:

Наиболее дисциплинированными в плане возврата кредита являются граждане со средней зарплатой в 40 и 600 тыс. руб. (категория B, D), а менее дисциплинированными с зарплатой 125 и 1000 тыс. руб. (категория A, C). Кроме того, самые не дисциплинированные оказались граждане с минимальной заработной платой на уровне прожиточного минимума (15 тыс. руб. - категория E).

##### IV. Исследование как разные цели кредита влияют на его возврат в срок


```python
# выделение 2-х столбцов из общего датафрейма для проведения исследования как разные цели кредита влияют на его возврат в срок
purpose_category_debt = data[['purpose_category', 'debt']]
```


```python
# создание пустого датафрейма для внесения расчетных данных
addiction_purpose_category_debt = pd.DataFrame()
```


```python
# создание столбца с значениями количества заемщиков по соответствующей группе (т.е. цели кредита)
addiction_purpose_category_debt['purpose_category_count'] = purpose_category_debt.groupby('purpose_category')['debt'].count()
```


```python
# создание столбца с количеством просрочек в каждой группе заемщиков
addiction_purpose_category_debt['count_debt'] = purpose_category_debt.groupby('purpose_category')['debt'].sum()
```


```python
# создание столбца с отношением количества просрочек к количеству людей по соответствующей группе
addiction_purpose_category_debt['share_debt'] = addiction_purpose_category_debt['count_debt'] / addiction_purpose_category_debt['purpose_category_count']
```


```python
# вывод результирующей таблицы проведенных расчетов
addiction_purpose_category_debt

```





  <div id="df-07ea2077-13cb-4f47-8c40-5492c2e37d16">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>purpose_category_count</th>
      <th>count_debt</th>
      <th>share_debt</th>
    </tr>
    <tr>
      <th>purpose_category</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>операции с автомобилем</th>
      <td>4279</td>
      <td>400</td>
      <td>0.093480</td>
    </tr>
    <tr>
      <th>операции с недвижимостью</th>
      <td>10751</td>
      <td>780</td>
      <td>0.072551</td>
    </tr>
    <tr>
      <th>получение образования</th>
      <td>3988</td>
      <td>369</td>
      <td>0.092528</td>
    </tr>
    <tr>
      <th>проведение свадьбы</th>
      <td>2313</td>
      <td>183</td>
      <td>0.079118</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-07ea2077-13cb-4f47-8c40-5492c2e37d16')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-07ea2077-13cb-4f47-8c40-5492c2e37d16 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-07ea2077-13cb-4f47-8c40-5492c2e37d16');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>





```python
data_pivot = data.pivot_table(index = ['purpose_category'], values = 'debt', aggfunc = 'mean')
```


```python
data_pivot
```





  <div id="df-2dc8bf37-a762-4071-b655-c0f291f91003">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>debt</th>
    </tr>
    <tr>
      <th>purpose_category</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>операции с автомобилем</th>
      <td>0.093480</td>
    </tr>
    <tr>
      <th>операции с недвижимостью</th>
      <td>0.072551</td>
    </tr>
    <tr>
      <th>получение образования</th>
      <td>0.092528</td>
    </tr>
    <tr>
      <th>проведение свадьбы</th>
      <td>0.079118</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-2dc8bf37-a762-4071-b655-c0f291f91003')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>

  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-2dc8bf37-a762-4071-b655-c0f291f91003 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-2dc8bf37-a762-4071-b655-c0f291f91003');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>




##### Вывод:

Наиболее дисциплинированными в плане возврата кредита являются граждане, взявшие кредит на операции с недвижимостью и проведение свадеб, а вот самые не дисциплинированные оказались граждане взявшие кредит на операции с автомобилем и образование.

## Общий вывод:

**В результате предобработки:**

1. Заполнены пропуски в столбце data['days_employed'], data['total_income'].
2. Устранены аномалии в столбце data[data['children'].
3. Заменен тип данных в столбце data['total_income'] на ‘int’.
4. Устранены дубликаты.

**В результате проведенного исследование надежности заемщиков установлено:**

1. Взаимосвязь между количеством детей и возвратом кредита в срок существует. Кроме того, необходимо отметить, что в целом бездетные допускают меньшую долю просрочек.
2. Граждане женатые / замужем и находящиеся в разводе - более дисциплинированны в плане возврата кредита, а вот не женатые / не замужем и находящиеся в гражданском браке - менее. Кроме того, стоит подчеркнуть, что самыми дисциплинированными являются овдовевшие.
3. Наиболее дисциплинированными в плане возврата кредита являются граждане со средней зарплатой в 40 и 600 тыс. руб. (категория B, D), а менее дисциплинированными с зарплатой 125 и 1000 тыс. руб. (категория A, C). Кроме того, самые не дисциплинированные оказались граждане с минимальной заработной платой на уровне прожиточного минимума (15 тыс. руб. - категория E).
4. Наиболее дисциплинированными в плане возврата кредита являются граждане, взявшие кредит на операции с недвижимостью и проведение свадеб, а вот самые не дисциплинированные оказались граждане, взявшие кредит на операции с автомобилем и образование.
